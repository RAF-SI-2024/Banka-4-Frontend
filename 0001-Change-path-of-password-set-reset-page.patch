From cae630ddbc5da264b9a5e451473d61295d70e7f3 Mon Sep 17 00:00:00 2001
From: Marko Kocic <markokocic2000@gmail.com>
Date: Mon, 24 Feb 2025 20:12:42 +0100
Subject: [PATCH 1/2] Change path of password set/reset page

---
 .../[type]/[token]}/page.tsx                       | 14 +++++++++++++-
 src/app/page.tsx                                   |  2 +-
 2 files changed, 14 insertions(+), 2 deletions(-)
 rename src/app/auth/{reset-password => password/[type]/[token]}/page.tsx (89%)

diff --git a/src/app/auth/reset-password/page.tsx b/src/app/auth/password/[type]/[token]/page.tsx
similarity index 89%
rename from src/app/auth/reset-password/page.tsx
rename to src/app/auth/password/[type]/[token]/page.tsx
index 0e84d21..4e96009 100644
--- a/src/app/auth/reset-password/page.tsx
+++ b/src/app/auth/password/[type]/[token]/page.tsx
@@ -3,10 +3,11 @@
 import { z } from 'zod';
 import { useForm } from 'react-hook-form';
 import { zodResolver } from '@hookform/resolvers/zod';
-import { Card, CardHeader, CardContent } from '@/components/ui/card';
+import { Card, CardContent, CardHeader } from '@/components/ui/card';
 import { Input } from '@/components/ui/input';
 import { Button } from '@/components/ui/button';
 import { Label } from '@/components/ui/label';
+import { notFound, useParams } from 'next/navigation';
 
 // Zod password validation
 const passwordSchema = z
@@ -22,7 +23,18 @@ const passwordSchema = z
     path: ['confirmPassword'],
   });
 
+type PasswordParams = {
+  type: string;
+  token: string;
+};
+
 export default function SetPasswordPage() {
+  const params = useParams<PasswordParams>();
+  if (params.type !== 'set' && params.type !== 'reset') notFound();
+
+  console.log(params.type);
+  console.log(params.token);
+
   const {
     register,
     handleSubmit,
diff --git a/src/app/page.tsx b/src/app/page.tsx
index 39410f5..307ed3e 100644
--- a/src/app/page.tsx
+++ b/src/app/page.tsx
@@ -1,4 +1,4 @@
-import SetPasswordPage from '@/app/auth/reset-password/page';
+import SetPasswordPage from '@/app/auth/password/[type]/[token]/page';
 
 export default function Home() {
   return <SetPasswordPage />;
-- 
2.48.1

